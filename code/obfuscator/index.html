<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>obfuscator.js</title>

<link rel="stylesheet" type="text/css" href="css/style.css" />

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
<script src="js/obfuscator.js"></script>

<!--[if lt IE 9]><script type="text/javascript" src="libs/flashcanvas/bin/flashcanvas.js"></script><![endif]-->

</head>

<body onload="canvasReady();">
<header>
    <h1>obfuscator.js</h1>
</header>

<canvas id="canvas" width="500" height="800"></canvas>

<div>
    <h2>Code 1</h2>
    <pre class="code base64">
function%20foo%20()%20%7B%0A%20%20%20%20alert(true)%3B%0A%7D%0A
    </pre>

    <h2>Code 2</h2>
    <pre class="code base64">
(function%20(window%2C%20%24)%20%7B%0A%0A%20%20%20%20var%20document%20%3D%20window.document%3B%0A%0A%20%20%20%20%2F%2F%20configuration%20variables%0A%20%20%20%20var%20c%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20font%20size%20and%20positioning%0A%20%20%20%20%20%20%20%20fontsize%20%20%20%3A%2012%2C%0A%20%20%20%20%20%20%20%20lineheight%20%3A%2015%2C%0A%20%20%20%20%20%20%20%20font%20%20%20%20%20%20%20%3A%20%2212px%20Courier%22%2C%0A%20%20%20%20%20%20%20%20baseline%20%20%20%3A%20%22top%22%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20font%20colors%0A%20%20%20%20%20%20%20%20linecolor%20%20%3A%20%22blue%22%2C%0A%20%20%20%20%20%20%20%20codecolor%20%20%3A%20%22black%22%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20text%20start%20position%0A%20%20%20%20%20%20%20%20top%20%20%20%20%20%20%20%20%3A%2010%2C%0A%20%20%20%20%20%20%20%20left%20%20%20%20%20%20%20%3A%2010%2C%0A%20%20%20%20%20%20%20%20indent%20%20%20%20%20%3A%2020%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20canvas%20width%0A%20%20%20%20%20%20%20%20width%20%20%20%20%20%20%3A%20600%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20lines%20to%20remove%20from%20code%20before%20drawing%0A%20%20%20%20%20%20%20%20check%20%20%20%20%20%20%3A%20new%20RegExp(%22%5E--remove%20this%20line--%22)%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20method%20holder%0A%20%20%20%20var%20f%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20drawing%20canvas%2C%20context%2C%20and%20code%0A%20%20%20%20%20%20%20%20canvas%3A%20null%2C%0A%20%20%20%20%20%20%20%20context%3A%20null%2C%0A%20%20%20%20%20%20%20%20code%3A%20null%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20decode%20the%20base64%20encoded%20code%0A%20%20%20%20%20%20%20%20%2F%2F%20get%20the%20code%20text%20as%20an%20array%20of%20lines%0A%20%20%20%20%20%20%20%20%2F%2F%20filter%20out%20the%20garbage%20lines%0A%20%20%20%20%20%20%20%20%22getCode%22%3A%20function%20(text%2C%20className)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(%2Fbase64%2F.test(className))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%20%3D%20decodeURIComponent(text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20code%20%3D%20%24.trim(text).split(%2F%5Cn%2F)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%24(code).filter(function%20(i%2C%20line)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20!c.check.test(line)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20create%20the%20canvas%20element%20with%20height%20for%20the%20%23%20of%20lines%0A%20%20%20%20%20%20%20%20%2F%2F%20FlashCanvas%20for%20IE%20support%0A%20%20%20%20%20%20%20%20%22getCanvas%22%3A%20function%20(code)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20canvas%20%3D%20document.createElement(%22canvas%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.width%20%3D%20c.width%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.height%20%3D%20code.length%20*%20c.lineheight%20%2B%20c.top%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.style.width%20%3D%20canvas.width%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20canvas.style.height%20%3D%20canvas.height%20%2B%20%22px%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typeof%20FlashCanvas%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20FlashCanvas.initElement(canvas)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20canvas%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20write%20a%20piece%20of%20text%20to%20the%20canvas%0A%20%20%20%20%20%20%20%20%22writeText%22%3A%20function%20(text%2C%20x%2C%20y%2C%20color%2C%20align)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.context.font%20%20%20%20%20%20%20%20%20%3D%20c.font%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.context.textAlign%20%20%20%20%3D%20align%20%7C%7C%20%22left%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.context.textBaseline%20%3D%20c.baseline%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.context.fillStyle%20%20%20%20%3D%20color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.context.fillText(text%2C%20x%2C%20y)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%22writeTextRight%22%3A%20function%20(text%2C%20x%2C%20y%2C%20color)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.writeText(text%2C%20x%2C%20y%2C%20color%2C%20%22right%22)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20write%20the%20line%20number%0A%20%20%20%20%20%20%20%20%2F%2F%20write%20the%20code%0A%20%20%20%20%20%20%20%20%22writeLine%22%3A%20function%20(i%2C%20line)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(i%20%25%202)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20draw%20an%20alternating%20background%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f.context.fillStyle%20%20%20%3D%20'LightCyan'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f.context.fillRect(0%2C%20i%20*%20c.lineheight%20%2B%20c.top%2C%20c.width%2C%20c.lineheight)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20f.writeTextRight(i%20%2B%201%2C%20c.indent%2C%20i%20*%20c.lineheight%20%2B%20c.top%2C%20c.linecolor)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.writeText(line%2C%20c.left%20%2B%20c.indent%2C%20i%20*%20c.lineheight%20%2B%20c.top%2C%20c.codecolor)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20parse%20the%20code%20from%20the%20pre%20element%0A%20%20%20%20%20%20%20%20%2F%2F%20place%20and%20get%20the%20canvas%0A%20%20%20%20%20%20%20%20%2F%2F%20get%20the%20drawing%20context%0A%20%20%20%20%20%20%20%20%22replaceCodeBlock%22%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.code%20%3D%20f.getCode(this.innerText%2C%20this.className)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c.indent%20%3D%2012%20*%20(f.code.length%20%2B%20%22%22).length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.canvas%20%3D%20f.getCanvas(f.code)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24(this).after(f.canvas)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20f.context%20%3D%20f.canvas.getContext(%222d%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24(f.code).each(f.writeLine)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20on%20dom%20ready%2C%20replace%20each%20pre%20with%20canvas%0A%20%20%20%20%24(function%20()%20%7B%0A%20%20%20%20%20%20%20%20%24(%22pre%22).each(f.replaceCodeBlock).remove()%3B%0A%20%20%20%20%7D)%3B%0A%0A%7D)(window%2C%20jQuery)%3B
    </pre>
</div>
</body>
</html>
